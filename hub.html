<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StudentStream â€“ Early Access Hub</title>

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, #1c2452, #0b1024);
  color: white;
}
.hidden{display:none}
.container{max-width:900px;margin:auto;padding:24px}
.card{background:rgba(255,255,255,0.08);border-radius:18px;padding:20px;margin-bottom:20px;backdrop-filter:blur(12px)}
button{border:none;padding:10px 16px;border-radius:12px;background:linear-gradient(135deg,#6a7cff,#8f6bff);color:#fff;font-weight:600;cursor:pointer}
input,select{width:100%;padding:10px;border-radius:10px;border:none;margin-bottom:10px}
.badge{background:#6a7cff;padding:6px 12px;border-radius:10px;font-weight:bold;display:inline-block}
.owner{background:gold;color:black}
.row{display:flex;gap:10px;flex-wrap:wrap}
.chat-box{max-height:200px;overflow-y:auto;margin-bottom:10px;font-size:14px}
.chat-msg{margin-bottom:6px}
.progress{background:#222;border-radius:8px;overflow:hidden}
.bar{background:#6a7cff;height:10px}
.small{opacity:.7;font-size:13px}
</style>
</head>
<body>

<div id="accessScreen" class="container hidden">
  <div class="card">
    <h2>ğŸ” Early Access Verification</h2>
    <p>Enter the email you used for the waitlist</p>
    <input type="email" id="emailInput" placeholder="you@example.com">
    <select id="roleInput">
      <option value="">Select role</option>
      <option>Streamer</option>
      <option>Creator</option>
      <option>Musician</option>
      <option>Designer</option>
      <option>Brand</option>
    </select>
    <button onclick="verifyAccess()">Access Hub</button>
  </div>
</div>

<div id="hub" class="container hidden">

  <div class="card">
    <h1>Welcome, <span id="userEmail"></span> ğŸ‘‹</h1>
    <span class="badge">Early Access</span>
    <span id="ownerBadge" class="badge owner hidden">OWNER</span>
    <p>Role: <b id="userRole"></b></p>
  </div>

  <div class="card">
    <h2>ğŸš§ Dev Updates</h2>
    <ul id="updatesList"></ul>
    <div id="adminUpdate" class="hidden">
      <input id="newUpdate" placeholder="Post new update">
      <button onclick="addUpdate()">Post</button>
    </div>
  </div>

  <div class="card">
    <h2>ğŸ’¡ Vote on features</h2>
    <div>Discovery Feed <button onclick="vote('feed')">Vote</button> <span id="vote_feed">0</span></div><br>
    <div>Brand Marketplace <button onclick="vote('brand')">Vote</button> <span id="vote_brand">0</span></div><br>
    <div>Collab Matching <button onclick="vote('collab')">Vote</button> <span id="vote_collab">0</span></div>
  </div>

  <div class="card">
    <h2>ğŸ—º Roadmap</h2>
    <p>Profiles</p><div class="progress"><div class="bar" style="width:60%"></div></div>
    <p>Marketplace</p><div class="progress"><div class="bar" style="width:35%"></div></div>
    <p>Payments</p><div class="progress"><div class="bar" style="width:10%"></div></div>
  </div>

  <div class="card">
    <h2>ğŸ›’ Marketplace Preview</h2>
    <ul>
      <li>ğŸ® Streamers hiring editors</li>
      <li>ğŸµ Musicians promoting tracks</li>
      <li>ğŸ¨ Designers offering services</li>
      <li>ğŸ· Brands hiring creators</li>
    </ul>
  </div>

  <div class="card">
    <h2>ğŸ’¬ Community Chat</h2>
    <div class="chat-box" id="chatBox"></div>
    <input id="chatInput" placeholder="Type message">
    <button onclick="sendChat()">Send</button>
    <button onclick="clearChat()" id="clearChatBtn" class="hidden">Clear Chat</button>
  </div>

  <div class="card hidden" id="adminPanel">
    <h2>ğŸ›  Owner Controls</h2>
    <button onclick="resetVotes()">Reset Votes</button>
    <button onclick="logout()">Logout</button>
  </div>

  <p class="small">You're shaping StudentStream.</p>

</div>

<script>
const OWNER_EMAIL = "deondrechambers284@gmail.com"; // CHANGE THIS

const accessScreen=document.getElementById("accessScreen");
const hub=document.getElementById("hub");

function init(){
  const email=localStorage.getItem("ss_email");
  const role=localStorage.getItem("ss_role");
  if(!email){accessScreen.classList.remove("hidden");return;}
  loadHub(email,role);
}

function verifyAccess(){
  const email=document.getElementById("emailInput").value.trim();
  const role=document.getElementById("roleInput").value||"Member";
  if(!email){alert("Enter email");return;}
  localStorage.setItem("ss_email",email);
  localStorage.setItem("ss_role",role);
  loadHub(email,role);
}

function loadHub(email,role){
  accessScreen.classList.add("hidden");
  hub.classList.remove("hidden");
  document.getElementById("userEmail").innerText=email;
  document.getElementById("userRole").innerText=role;

  if(email===OWNER_EMAIL){
    document.getElementById("ownerBadge").classList.remove("hidden");
    document.getElementById("adminPanel").classList.remove("hidden");
    document.getElementById("adminUpdate").classList.remove("hidden");
    document.getElementById("clearChatBtn").classList.remove("hidden");
  }
  loadVotes();
  loadUpdates();
  loadChat();
}

function logout(){localStorage.clear();location.reload();}

/* Votes */
function vote(f){
  if(localStorage.getItem("v_"+f)) return alert("Already voted");
  let c=parseInt(localStorage.getItem("vote_"+f)||0)+1;
  localStorage.setItem("vote_"+f,c);
  localStorage.setItem("v_"+f,1);
  loadVotes();
}
function loadVotes(){
  ["feed","brand","collab"].forEach(f=>{
    document.getElementById("vote_"+f).innerText=localStorage.getItem("vote_"+f)||0;
  });
}
function resetVotes(){
  ["feed","brand","collab"].forEach(f=>{
    localStorage.removeItem("vote_"+f);
    localStorage.removeItem("v_"+f);
  });
  loadVotes();
}

/* Updates */
function loadUpdates(){
  let data=JSON.parse(localStorage.getItem("updates")||"[]");
  const ul=document.getElementById("updatesList");
  ul.innerHTML="";
  data.forEach(u=>{let li=document.createElement("li");li.textContent=u;ul.appendChild(li);});
}
function addUpdate(){
  let txt=document.getElementById("newUpdate").value;
  if(!txt)return;
  let data=JSON.parse(localStorage.getItem("updates")||"[]");
  data.unshift(txt);
  localStorage.setItem("updates",JSON.stringify(data));
  document.getElementById("newUpdate").value="";
  loadUpdates();
}

/* Chat */
function loadChat(){
  let data=JSON.parse(localStorage.getItem("chat")||"[]");
  const box=document.getElementById("chatBox");
  box.innerHTML="";
  data.forEach(m=>{
    let d=document.createElement("div");
    d.className="chat-msg";
    d.textContent=m;
    box.appendChild(d);
  });
  box.scrollTop=box.scrollHeight;
}
function sendChat(){
  let msg=document.getElementById("chatInput").value;
  if(!msg)return;
  let data=JSON.parse(localStorage.getItem("chat")||"[]");
  let email=localStorage.getItem("ss_email");
  data.push(email+": "+msg);
  localStorage.setItem("chat",JSON.stringify(data));
  document.getElementById("chatInput").value="";
  loadChat();
}
function clearChat(){
  localStorage.removeItem("chat");
  loadChat();
}

init();
</script>

</body>
</html>