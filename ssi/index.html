<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>StudentStream Investigations</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>StudentStream Investigations</h1>
  <p>Documenting the unexplained. Researching the ignored.</p>
  <nav>
    <a href="agent.html">Agent Console</a>
  </nav>
</header>

<section id="cases">
  <h2>Active Case Files</h2>
  <div id="caseList"></div>
</section>

<section id="videos">
  <h2>Video Reports</h2>
  <p>No reports published yet.</p>
</section>

<footer>
  Â© 2026 StudentStream Investigations
</footer>

<script type="module">
import { supabase } from './supabase.js';

async function loadCases() {
  const { data } = await supabase.from('cases').select('*').order('created_at', { ascending: false });

  const container = document.getElementById('caseList');
  container.innerHTML = '';

  data.forEach(c => {
    const div = document.createElement('div');
    div.className = 'caseCard';
    div.innerHTML = `
      <h3>${c.title}</h3>
      <p>Status: ${c.status}</p>
      <a href="case.html?id=${c.id}">Open Case</a>
    `;
    container.appendChild(div);
  });
}

loadCases();
</script>
</body>
</html>