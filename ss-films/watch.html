<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Watch</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
body{margin:0;background:#05070d;color:white;font-family:system-ui}
.container{padding:20px}
video{width:100%;max-height:70vh;border-radius:10px}
</style>
</head>
<body>

<div class="container">
  <h2 id="title"></h2>
  <p id="desc"></p>
  <video id="video" controls></video>
</div>

<script>
const SUPABASE_URL = "https://iabzmoxzbqzcqgypxctr.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhYnptb3h6YnF6Y3FneXB4Y3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMDgzNzAsImV4cCI6MjA4MjY4NDM3MH0.mHke56jh8WSlzzQxa7o2PIxqLRk1eyPRZerJ3avuGkQ";

const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

const params = new URLSearchParams(location.search);
const id = params.get("id");

async function load(){
  const {data} = await supabase.from("films").select("*").eq("id",id).single();
  document.getElementById("title").innerText = data.title;
  document.getElementById("desc").innerText = data.description;
  document.getElementById("video").src = data.video_url;
}

load();
</script>

</body>
</html>