<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>StudentStream â€“ Live Room</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto;
  background:#05080f;
  color:#eaf1ff;
}

.header{
  height:56px;
  background:#0c1626;
  border-bottom:1px solid rgba(255,255,255,0.08);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
}

.logo{font-weight:700}
.room-name{font-size:14px;color:#9fb0cc}

.leave-btn{
  background:#ff5d5d;
  border:none;
  color:#1a0000;
  padding:8px 12px;
  border-radius:8px;
  font-weight:600;
}

#jitsi-container{
  width:100%;
  height:calc(100vh - 56px);
}
</style>
</head>

<body>

<div class="header">
  <div class="logo">StudentStream Live</div>
  <div class="room-name" id="roomLabel"></div>
  <button class="leave-btn" onclick="leaveRoom()">Leave</button>
</div>

<div id="jitsi-container"></div>

<script src="https://meet.jit.si/external_api.js"></script>
<script>
const params = new URLSearchParams(window.location.search);
const room = (params.get("room") || "studentstreamtest").replace(/[^a-zA-Z0-9]/g,'');

document.getElementById("roomLabel").innerText = "Room: " + room;

function leaveRoom(){
  window.location.href = "index.html";
}

const api = new JitsiMeetExternalAPI("meet.jit.si", {
  roomName: room,
  parentNode: document.getElementById("jitsi-container"),
  configOverwrite: {
    prejoinPageEnabled: false,
    startWithAudioMuted: false,
    startWithVideoMuted: false
  },
  interfaceConfigOverwrite: {
    SHOW_JITSI_WATERMARK: false,
    SHOW_BRAND_WATERMARK: false,
    MOBILE_APP_PROMO: false
  }
});
</script>

</body>
</html>