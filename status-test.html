<!DOCTYPE html>
<html>
<body>
<h2>Status Test</h2>
<pre id="out">Startingâ€¦</pre>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<script>
const SUPABASE_URL = "https://iabzmoxzbqzcqgypxctr.supabase.co";
const SUPABASE_KEY = "sb_publishable_ipn8wnT_TIvaT6r44j8YBw_t5oMhOPC";

const out = document.getElementById("out");

async function run() {
  out.textContent += "\nJS running";
  out.textContent += "\nSupabase loaded: " + (typeof supabase !== "undefined");

  const client = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
  out.textContent += "\nClient created";

  const res = await client.from("status_components").select("*");

  if (res.error) {
    out.textContent += "\nERROR:\n" + JSON.stringify(res.error, null, 2);
  } else {
    out.textContent += "\nDATA:\n" + JSON.stringify(res.data, null, 2);
  }
}

run();
</script>
</body>
</html>