<!DOCTYPE html>
<html>
<head>
<title>New Thread</title>
<link rel="stylesheet" href="forum.css">
</head>
<body>

<header><a href="index.html">‚Üê Back</a></header>

<div class="container">
  <input id="title" placeholder="Thread title">
  <textarea id="content" placeholder="Thread content"></textarea>
  <button onclick="post()">Post</button>
</div>

<script type="module">
import { supabase, getUser } from "./devforum.js";
const user = getUser();

async function post(){
  const title = document.getElementById("title").value;
  const content = document.getElementById("content").value;

  await supabase.from("forum_threads").insert({
    title, content,
    author_id:user.id,
    author_name:user.name
  });

  location="index.html";
}
</script>

</body>
</html>